---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { getCollection } from "astro:content";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "../../components/ui/card";
import { Button } from "../../components/ui/button";

const categories = (await getCollection("categories")).sort((a, b) =>
  a.data.name.localeCompare(b.data.name),
);

const title = "Le Nostre Categorie - Delizia Alessandro S.r.l.";
const description =
  "Esplora la nostra gamma completa di materiali edili, finiture e arredo bagno. Trova la soluzione perfetta per il tuo progetto di costruzione o ristrutturazione.";
---

<Layout title={title} description={description}>
  <Header />
  <main class="min-h-screen bg-background pt-32 pb-20">
    <div class="container mx-auto px-4">
      <!-- Page Header -->
      <div class="text-center mb-16">
        <span class="text-primary font-semibold tracking-wider uppercase">
          Catalogo Prodotti
        </span>
        <h1
          class="text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mt-4 mb-6"
        >
          Esplora per Categoria
        </h1>
        <p class="text-xl text-muted-foreground max-w-3xl mx-auto">
          Dalle fondamenta alle finiture, offriamo una selezione completa dei
          migliori materiali per realizzare la casa dei tuoi sogni.
        </p>
      </div>

      <!-- Categories Grid -->
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          categories.map((category) => (
            <a href={`/categorie/${category.slug}`} class="group block h-full">
              <Card className="h-full transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border-border/50 hover:border-primary/30 bg-card overflow-hidden relative">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100"
                    height="100"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="text-primary transform rotate-12"
                  >
                    <rect width="7" height="7" x="3" y="3" rx="1" />
                    <rect width="7" height="7" x="14" y="3" rx="1" />
                    <rect width="7" height="7" x="14" y="14" rx="1" />
                    <rect width="7" height="7" x="3" y="14" rx="1" />
                  </svg>
                </div>
                <CardHeader className="pt-8">
                  <CardTitle className="text-2xl font-bold group-hover:text-primary transition-colors">
                    {category.data.name}
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <CardDescription className="text-muted-foreground line-clamp-3 text-base mb-6">
                    {category.data.description}
                  </CardDescription>
                  <div class="flex items-center text-primary font-medium group-hover:translate-x-2 transition-transform">
                    Esplora prodotti
                    <svg
                      class="w-4 h-4 ml-2"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M17 8l4 4m0 0l-4 4m4-4H3"
                      />
                    </svg>
                  </div>
                </CardContent>
              </Card>
            </a>
          ))
        }
      </div>
    </div>
  </main>
  <Footer />
</Layout>
